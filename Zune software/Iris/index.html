<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://zunedev.github.io/Zune%20software/Iris/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Microsoft Iris - ZuneDev Wiki</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../assets/mkdocs_pagetree_plugin.css" rel="stylesheet">
        <link href="../../style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">ZuneDev Wiki</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Welcome</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Atlas</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Atlas/" class="dropdown-item">Atlas</a>
</li>
                                    
<li>
    <a href="../../Atlas/File%20Types/" class="dropdown-item">File Types</a>
</li>
                                    
<li>
    <a href="../../Atlas/Official%20Documentation/" class="dropdown-item">Official Documentation</a>
</li>
                                    
<li>
    <a href="../../Atlas/Paths/" class="dropdown-item">Paths</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Zune devices</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Zune%20devices/Firmware%20Files/" class="dropdown-item">Firmware Files</a>
</li>
                                    
<li>
    <a href="../../Zune%20devices/Gem%20Files/" class="dropdown-item">Gem Files</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Apps</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Zune%20devices/Apps/Activating%20Visual%20Studio%202008%20Profressional/" class="dropdown-item">Activating VS 2008 Professional</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/Keep%20WIFI%20Enabled/" class="dropdown-item">Keep WIFI Enabled</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/ZCP%20Files/" class="dropdown-item">ZCP Files</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">OpenZDK</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/" class="dropdown-item">OpenZDK</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Liberate/" class="dropdown-item">Liberate</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Reference/" class="dropdown-item">Open ZDK Reference</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Setup/" class="dropdown-item">Setup</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Headers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/ZDKSystem_ShowSplashScreen/" class="dropdown-item">ZDKSystem_ShowSplashScreen(int flag)</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/zdkaudio.h/" class="dropdown-item">zdkaudio.h</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/zdkcontent.h/" class="dropdown-item">zdkcontent.h</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/zdkdisplay.h/" class="dropdown-item">zdkdisplay.h</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/zdkfont.h/" class="dropdown-item">zdkfont.h</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/zdkimage.h/" class="dropdown-item">zdkimage.h</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/OpenZDK/Headers/zdkinput.h/" class="dropdown-item">zdkinput.h</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">XNA Framework</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Zune%20devices/Apps/XNA%20Framework/" class="dropdown-item">XNA Framework</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Apps/XNA%20Framework/XNA%20Apps/" class="dropdown-item">XNA Apps</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Zune HD</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/" class="dropdown-item">Zune HD</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/CE%206.0%20Architecture/" class="dropdown-item">CE 6.0 Architecture</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/Device%20Manager/" class="dropdown-item">Device Manger</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/Exploits/" class="dropdown-item">Exploits</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/Fusee%20Gelee/" class="dropdown-item">Fusee Gelee</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/OpenGL%20ES/" class="dropdown-item">OpenGL ES</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/Partitions%20and%20Filesystems/" class="dropdown-item">Partitions and Filesystems</a>
</li>
            
<li>
    <a href="../../Zune%20devices/Zune%20HD/Windows%20CE%206.0/" class="dropdown-item">Windows CE 6.0</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Zune software</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">Zune software</a>
</li>
                                    
<li>
    <a href="../radio/" class="dropdown-item">Radio</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Iris</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Microsoft Iris</a>
</li>
            
<li>
    <a href="compiled-uix/" class="dropdown-item">Compiled UIX v4</a>
</li>
            
<li>
    <a href="uix-assembly/" class="dropdown-item">UIX Assembly</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../radio/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="compiled-uix/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/ZuneDev/Wiki/blob/main/docs/Zune software/Iris/index.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#microsoft-iris" class="nav-link">Microsoft Iris</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#topics" class="nav-link">Topics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#what-is-microsoft-iris" class="nav-link">What is Microsoft Iris?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#what-does-microsoft-iris-have-to-do-with-zune" class="nav-link">What does Microsoft Iris have to do with Zune?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#how-can-i-use-microsoft-iris" class="nav-link">How can I use Microsoft Iris?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#history" class="nav-link">History</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="microsoft-iris">Microsoft Iris</h1>
<h2 id="topics">Topics</h2>
<p>
<div class="pagetree-container">
    <div class="pagetree-functions"></div>
    <ul class="pagetree">
        <li>
            



<a
    class="pagetree-navlink "
    data-page-status=""
    href="./"
>
    Microsoft Iris
    
</a>
        </li>
        <li>
            



<a
    class="pagetree-navlink "
    data-page-status=""
    href="compiled-uix/"
>
    Compiled UIX v4
    
</a>
        </li>
        <li>
            



<a
    class="pagetree-navlink "
    data-page-status=""
    href="uix-assembly/"
>
    UIX Assembly
    
</a>
        </li>
    </ul>
</div></p>
<h2 id="what-is-microsoft-iris">What is Microsoft Iris?</h2>
<p>Microsoft Iris (sometimes called UIX) is a private UI framework for Windows. It was developed for internal use by various Microsoft Windows software, although only the Zune desktop software is known to use it.</p>
<p>Unlike most modern UI frameworks, Iris does not provide default control styles-- library consumers are expected to define their own styles. However, some later versions of Iris included <code>UIXControls.dll</code>, a resource library containing some limited styles for built-in controls. UI layouts are defined in XML-based <code>.uix</code> files, which are nearly identical in structure to <a href="https://docs.microsoft.com/en-us/previous-versions/windows/desktop/windows-media-center-sdk/bb189388(v=msdn.10)">Media Center Markup Language (MCML)</a>. Starting with Iris 3, a compiler was included that processed the XML-based layouts into a proprietary binary format.</p>
<p>Parts of the code suggest that Iris may have supported the Xbox 360 (referred to by its codename, Xenon). There is also evidence that a native version of the library was used by some in-box applications in Windows Phone 7, where it was referred to as "Splash".</p>
<h2 id="what-does-microsoft-iris-have-to-do-with-zune">What does Microsoft Iris have to do with Zune?</h2>
<p>Zune software 2.0 introduced a new UI design, which later become the Metro design language. This was also the first version to utilize the then-new Iris framework. Iris's assembly version generally aligns with the Zune release it came with-- the first known release of Iris is 2.0 for this reason. Iris 2 also did not have the concept of "compiled UIX", so Zune 2.x releases contain readable UIX source code.</p>
<p>The Zune desktop software is partially written in C#, namely <code>ZuneShell.dll</code>. This library contains the entrypoint that <code>Zune.exe</code> passes execution to. Along with the Iris startup code, it primarily contains code that glues some parts of the UI and the business logic together. However, note that the majority of the UI logic was written as embedded UIX scripts in the various resource DLLs. In Zune desktop 4.x, the scripts are compiled to custom bytecode.</p>
<h2 id="how-can-i-use-microsoft-iris">How can I use Microsoft Iris?</h2>
<p>Despite being very powerful and flexible compared to other UI frameworks of the time, Microsoft never released Iris for public use. <a href="https://github.com/ZuneDev/MicrosoftIris/blob/ab33f58c69275df5cb31b557887b8853925371c9/UIX/Microsoft/Iris/Application.cs#L488-L510"><code>Microsoft.Iris.Application.VerifyTrustedEnvironment()</code></a> is called on startup in Iris applications to verify that the calling assembly is signed by Microsoft.</p>
<p>This check can be patched out with relative ease, though it should be done with caution. Distributing patched binaries violates U.S. copyright law and may land you in hot water.</p>
<h2 id="history">History</h2>
<h3 id="2x">2.x</h3>
<p>Microsoft Iris first appeared in the release of version 2.0 of the Zune desktop software. No pre-built controls were included at all, with even primitives like buttons requiring consumer to build from scratch. Compiled UIX also did not exist at this time. Instead, Iris would parse and interpret UIX XML at runtime. UIX XML syntax closely resembled <a href="US-20090327876-A1.pdf">US-20090327876-A1</a>, a patent filed by Microsoft at the end of 2009, and <a href="https://docs.microsoft.com/en-us/previous-versions/windows/desktop/windows-media-center-sdk/bb189388(v=msdn.10)">Media Center Markup Language (MCML)</a> as used by <a href="https://en.wikipedia.org/wiki/Windows_Media_Center">Windows Media Center</a>.</p>
<h3 id="3x">3.x</h3>
<p>Iris 3.0 released with Zune 3.0 in late 2008. It was the most significant update to Iris as it introduced the UIX compiler; rather than parsing XML at runtime, Iris could compile UIX files at buildtime into <a href="./compiled-uix-3.md">UIB 3</a> a proprietary format that resembled custom bytecode. The shipped version of <code>UIX.dll</code> includes the original UIX XML interpreter and the binary UIX compiler for UIB 3, although neither are used by the Zune software at runtime.</p>
<p>The UIX XML syntax was changed sightly from the source included in Zune 2.0. For example:</p>
<ul>
<li>Assignments and expressions in bracketless conditionals are no longer wrapped in square brackets. <ul>
<li><code>HyperlinkRepeater.Source = [Text.Fragments];</code> to <code>HyperlinkRepeater.Source = Text.Fragments;</code></li>
<li><code>if ([FragmentMouseFocus.Value])</code> to <code>if (FragmentMouseFocus.Value)</code></li>
</ul>
</li>
<li>Canonical instances are accessed as if they are static members using dot syntax.<br />
    <div class="highlight"><pre><span></span><code><span class="nt">&lt;toptoolbar:TopToolbar</span><span class="w"> </span><span class="na">Name=</span><span class="s">&quot;TopToolbar&quot;</span><span class="w"> </span><span class="na">Shell=</span><span class="s">&quot;{Shell}&quot;</span><span class="w"> </span><span class="na">FocusOrder=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;LayoutInput&gt;</span>
<span class="w">        </span><span class="nt">&lt;DockLayoutInput</span><span class="w"> </span><span class="na">Position=</span><span class="s">&quot;Top&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/LayoutInput&gt;</span>
<span class="nt">&lt;/toptoolbar:TopToolbar&gt;</span>
</code></pre></div><br />
    becomes<br />
    <div class="highlight"><pre><span></span><code><span class="nt">&lt;toptoolbar:TopToolbar</span><span class="w"> </span><span class="na">Name=</span><span class="s">&quot;TopToolbar&quot;</span><span class="w"> </span><span class="na">Shell=</span><span class="s">&quot;{Shell}&quot;</span><span class="w"> </span><span class="na">FocusOrder=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">LayoutInput=</span><span class="s">&quot;{DockLayoutInput.Top}&quot;</span><span class="nt">/&gt;</span>
</code></pre></div></li>
</ul>
<h3 id="4x">4.x</h3>
<p>Iris 4.0 was a minor update released with Zune 4.0 in 2009, which utilized a new version of the compiler and <a href="compiled-uix/">UIB 4</a> to reduce the size and overhead of UIX.</p>
<p>Iris 4 also included <code>UIXcontrols.dll</code>, a simple library containing some .NET code and implementations of basic controls such as buttons and scrollbars and some higher level but still primitive building blocks.</p>
<p>Zune 4.8.2345.0 shipped the last known version of Iris, with the same assembly version as Zune.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../assets/mkdocs_pagetree_plugin.js"></script>
        <script src="../../javascripts/mathjax.js"></script>
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
